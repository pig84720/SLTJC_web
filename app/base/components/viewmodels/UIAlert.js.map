{"version":3,"file":"UIAlert.js","sources":["UIAlert.js"],"names":[],"mappings":"AAGA,OAAA,sCAAA,WAAA,WACA,GAAA,GAAA,CACA,QACA,KAAA,SAAA,EAAA,GACA,EAAA,UAAA,UAAA,UAAA,SAAA,GACA,GAAA,GAAA,EAAA,CAGA,GAFA,IAEA,MAAA,EAAA,oBAAA,GAAA,CACA,GAAA,GAAA,sCACA,GAAA,QAAA,QAAA,GAGA,GAAA,GAAA,eAAA,EAAA,WACA,EAAA,qBAAA,EAAA,UAAA,KAAA,8BAAA,EAAA,4KAIA,EAAA,UAAA,QAAA,aAAA,EAAA,YACA,QACA,GAAA,GAAA,SAAA,oBACA,EAAA,UAAA,WAAA,GAEA,EAAA,IAAA,EAAA,WAAA,GAAA,kBAAA,WACA,IACA,GAAA,IACA,EAAA,oBAAA,SACA,EAAA,KAGA,GAAA,EAAA,UAAA,eAEA,WAAA,WACA,EAAA,IAAA,EAAA,WAAA,MAAA,UACA","sourcesContent":["/**\n * Created by jerryhuang on 15/7/29.\n */\ndefine('base/components/viewmodels/UIAlert',['require'],function (require) {\n    var alertNumber = 0;\n    return {\n        init: function (id, vm) {\n            vm.viewModel.isVisible.subscribe(function (newValue) {\n                if (newValue == true) {\n                    alertNumber++;\n\n                    if ($('.alertMessageDiv')[0] == null) {\n                        var messageDiv = '<div class=\"alertMessageDiv\" ></div>';\n                        $('body').prepend(messageDiv);\n                    }\n\n                    var alertId = 'alertMessage' + alertNumber.toString(),\n                        alertMessage = '<div class=\"alert ' + vm.viewModel.ui() + ' alert-dismissible fade in ' + alertId + 'Message alert-message\" role=\"alert\">' +\n                            '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">' +\n                            '<span aria-hidden=\"true\">&times;</span>' +\n                            '</button> ' +\n                            '<strong>' + vm.viewModel.title() + '</strong> ' + vm.viewModel() +\n                            '</div>';\n                    $(alertMessage).appendTo('.alertMessageDiv');\n                    vm.viewModel.isVisible(false);\n\n                    $('.' + alertId + 'Message').on('closed.bs.alert', function () {\n                        alertNumber--;\n                        if (alertNumber <= 0) {\n                            $('.alertMessageDiv').remove();\n                            alertNumber = 0;\n                        }\n                    });\n                    if (vm.viewModel.autoDismiss() == true) {\n                        // console.log(vm.viewModel.autoDismiss());\n                        setTimeout(function () {\n                            $('.' + alertId + 'Message').alert('close');\n                        }, 2500);\n                    }\n                }\n            });\n        }\n    };\n});\n"]}