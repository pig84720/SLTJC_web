{"version":3,"file":"UIMenu.js","sources":["../../resources/scripts/jquery.bootstrap-autohidingnavbar.js","../../utils/Common.js","../../utils/SmartMenu.js","UIMenu.js"],"names":[],"mappings":"CAAA,SAAA,EAAA,EAAA,EAAA,GAoBA,QAAA,GAAA,EAAA,GACA,KAAA,QAAA,EAAA,GACA,KAAA,SAAA,EAAA,UAAA,EAAA,GACA,KAAA,UAAA,EACA,KAAA,MAAA,EACA,KAAA,OAGA,QAAA,GAAA,GACA,IAIA,EAAA,QAAA,SAAA,iBAAA,SACA,KAAA,EAAA,QAAA,WAEA,OAAA,EACA,SAAA,EAAA,SAAA,oBAGA,EAAA,kCAAA,EAAA,SAAA,SAAA,UAEA,GAAA,GAGA,QAAA,GAAA,GACA,IAIA,EAAA,QAAA,YAAA,iBAAA,SACA,IAAA,IAEA,OAAA,EACA,SAAA,EAAA,SAAA,oBAEA,GAAA,GAGA,QAAA,GAAA,GACA,GAAA,GAAA,EAAA,YACA,EAAA,EAAA,CAIA,IAFA,EAAA,EAEA,EAAA,EAAA,CACA,GAAA,EACA,QAGA,EAAA,SAAA,gBAAA,GAAA,IACA,EAAA,OAGA,IAAA,EAAA,EAAA,CACA,IAAA,EAIA,YAHA,EAAA,SAAA,cAAA,EAAA,IAAA,EAAA,UACA,EAAA,GAKA,IAAA,GACA,EAAA,IAMA,QAAA,GAAA,GACA,EAAA,SAAA,kBAIA,GAAA,GAAA,OAAA,UAEA,EAAA,IAGA,QAAA,GAAA,GACA,EAAA,GAAA,UAAA,EAAA,YACA,GAAA,OAAA,UAAA,EAAA,EACA,EAAA,IAGA,aAAA,GACA,EAAA,WAAA,WACA,EAAA,IACA,MAIA,EAAA,GAAA,UAAA,EAAA,WACA,aAAA,GACA,EAAA,WAAA,WACA,EAAA,EAAA,UACA,KAIA,QAAA,KACA,EAAA,IAAA,IAAA,GAEA,EAAA,IAAA,IAAA,GA1HA,GAUA,GAVA,EAAA,mBACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,KACA,EAAA,KACA,EAAA,GACA,EAAA,EACA,EAAA,KACA,EAAA,EAAA,SACA,GAAA,EAEA,GACA,iBAAA,EACA,gBAAA,EACA,cAAA,EACA,WAAA,OACA,kBAAA,IA6GA,GAAA,WACA,KAAA,WAcA,MAbA,MAAA,UACA,OAAA,KAAA,SAGA,KAAA,mBAAA,KAAA,SAAA,iBACA,KAAA,kBAAA,KAAA,SAAA,gBACA,KAAA,gBAAA,KAAA,SAAA,cACA,KAAA,cAAA,KAAA,SAAA,YACA,KAAA,qBAAA,KAAA,SAAA,mBAEA,EAAA,SAAA,KAAA,SAAA,WAAA,KAAA,QAAA,SAAA,KAAA,SAAA,WACA,EAAA,MAEA,KAAA,SAEA,mBAAA,SAAA,GAEA,MADA,MAAA,SAAA,gBAAA,EACA,KAAA,SAEA,kBAAA,SAAA,GAEA,MADA,MAAA,SAAA,eAAA,EACA,KAAA,SAEA,gBAAA,SAAA,GAEA,MADA,MAAA,SAAA,aAAA,EACA,KAAA,SAEA,cAAA,SAAA,GAEA,MADA,MAAA,SAAA,WAAA,EACA,KAAA,SAEA,qBAAA,SAAA,GAEA,MADA,MAAA,SAAA,kBAAA,EACA,KAAA,SAEA,KAAA,WAEA,MADA,GAAA,MACA,KAAA,SAEA,KAAA,WAEA,MADA,GAAA,MACA,KAAA,SAEA,QAAA,WAIA,MAHA,GAAA,MACA,EAAA,MACA,EAAA,KAAA,KAAA,UAAA,EAAA,MACA,KAAA,UAIA,EAAA,GAAA,GAAA,SAAA,GACA,GAAA,GAAA,SAEA,IAAA,IAAA,GAAA,gBAAA,GACA,MAAA,MAAA,KAAA,WACA,EAAA,KAAA,KAAA,UAAA,IACA,EAAA,KAAA,KAAA,UAAA,EAAA,GAAA,GAAA,KAAA,KAGA,IAAA,gBAAA,IAAA,MAAA,EAAA,IAAA,SAAA,EAAA,CACA,GAAA,EAUA,OARA,MAAA,KAAA,WACA,GAAA,GAAA,EAAA,KAAA,KAAA,UAAA,EAEA,aAAA,IAAA,kBAAA,GAAA,KACA,EAAA,EAAA,GAAA,MAAA,EAAA,MAAA,UAAA,MAAA,KAAA,EAAA,OAIA,IAAA,EAAA,EAAA,QAKA,OAAA,OAAA,UAEA,OAAA,oCAAA,cAEA,OChNA,YAAA,WACA,GAAA,GAAA,SAAA,GACA,EAAA,IAAA,EAAA,SAAA,GACA,GAAA,GAAA,SAAA,cAAA,OAKA,IAJA,EAAA,KAAA,WACA,EAAA,IAAA,aACA,EAAA,KAAA,EAAA,IACA,EAAA,GAAA,EAAA,GACA,EAAA,SAAA,CACA,GAAA,GAAA,SAAA,cAAA,WACA,GAAA,YAAA,GACA,SAAA,qBAAA,QAAA,GAAA,YAAA,OAEA,UAAA,qBAAA,QAAA,GAAA,YAAA,MAKA,EAAA,SAAA,GACA,EAAA,IAAA,EAAA,SAAA,GACA,GAAA,GAAA,SAAA,cAAA,SACA,GAAA,KAAA,kBACA,EAAA,IAAA,EAAA,IACA,EAAA,GAAA,EAAA,GACA,SAAA,qBAAA,QAAA,GAAA,YAAA,MAGA,EAAA,SAAA,GACA,IACA,GAAA,GAAA,EAAA,MAAA,KAAA,GAAA,MAAA,KACA,EAAA,EAAA,MAAA,KAAA,GAAA,MAAA,KAGA,EAAA,GAAA,MACA,SAAA,EAAA,IACA,SAAA,EAAA,IAAA,EACA,SAAA,EAAA,IACA,SAAA,EAAA,IACA,SAAA,EAAA,IAEA,OAAA,GACA,MAAA,GACA,MAAA,QAGA,EAAA,SAAA,GACA,MAAA,OAAA,EACA,IAEA,KAAA,GAAA,EAAA,cACA,MAAA,IAAA,EAAA,WAAA,GACA,GAAA,MAAA,SACA,MAAA,IAAA,OAEA,IAAA,GAAA,EAAA,UACA,GAAA,IAAA,SACA,IAAA,IAAA,KAEA,KAAA,GAAA,EAAA,WACA,GAAA,KAAA,SACA,KAAA,IAAA,MAEA,OAAA,GAAA,EAAA,aACA,GAAA,OAAA,SACA,OAAA,IAAA,QAEA,OAAA,GAAA,EAAA,aACA,GAAA,OAAA,SACA,OAAA,IAAA,QAEA,KAAA,IAAA,MAAA,IAAA,IAAA,IAAA,KAAA,IAAA,OAAA,IAAA,SAIA,EAAA,SAAA,EAAA,GACA,MAAA,GAAA,GAAA,OAAA,EAAA,IAAA,QAAA,IAAA,GAAA,QAAA,IAAA,IAEA,EAAA,SAAA,GACA,IACA,GAAA,EAAA,GAAA,QAAA,OAAA,mBAAA,GAAA,YAAA,KAAA,SAAA,QACA,MAAA,oBAAA,EAAA,IACA,MAAA,GACA,MAAA,QAGA,EAAA,SAAA,GACA,GAAA,GAAA,OAAA,WAAA,EAAA,OAAA,WAAA,OAAA,MACA,EAAA,OAAA,YAAA,EAAA,OAAA,YAAA,OAAA,MAIA,OAHA,QAAA,SACA,EAAA,SAAA,KAAA,YAAA,EAAA,SAAA,KAAA,YAAA,IAGA,MAAA,EAAA,EACA,OAAA,EAAA,IAGA,EAAA,SAAA,GACA,EAAA,EAAA,QAAA,OAAA,OAAA,QAAA,OAAA,MACA,IAAA,GAAA,GAAA,QAAA,SAAA,EAAA,aACA,EAAA,EAAA,KAAA,SAAA,OACA,OAAA,OAAA,EAAA,GAAA,mBAAA,EAAA,GAAA,QAAA,MAAA,OAEA,EAAA,SAAA,GACA,GAAA,GAAA,EAAA,OAAA,MAAA,cAAA,SAAA,WAAA,OAAA,OAAA,YACA,GAAA,SACA,UAAA,GACA,MAEA,EAAA,SAAA,GACA,GAAA,GAAA,EACA,GAAA,eAAA,KAAA,SAAA,EAAA,GAEA,GAAA,GAAA,EAAA,GAAA,KAAA,aACA,QAAA,MAAA,IACA,QAAA,YAAA,IACA,QAAA,oBAAA,IACA,QAAA,kBAAA,IACA,QAAA,eAAA,IACA,QAAA,kBAAA,IACA,QAAA,IAAA,IACA,QAAA,IAAA,IACA,MAAA,IACA,GAAA,IAAA,EAAA,SAAA,GAEA,GAAA,GAAA,EAAA,MAAA,MACA,SAAA,EAAA,IAAA,UAAA,EAAA,IAAA,YAAA,EAAA,IAAA,SAAA,EAAA,IAAA,YAAA,EAAA,IAAA,WAAA,EAAA,MACA,YAAA,EAAA,GACA,IAAA,EAAA,QAAA,IAAA,EAAA,GAAA,OACA,GAAA,IAAA,EAAA,GAAA,KAAA,EAAA,GAAA,QAAA,IAAA,IAAA,KAGA,IAAA,EAAA,QAAA,IAAA,EAAA,GAAA,OACA,GAAA,IAAA,EAAA,GAAA,KAAA,EAAA,GAAA,UAMA,EAAA,EAAA,QAAA,MAAA,GAEA,IAAA,KACA,GAAA,IAAA,EAAA,OAAA,GAAA,MAAA,KAAA,SAAA,GACA,GAAA,GAAA,EAAA,MAAA,IAEA,QAAA,EAAA,IACA,IAAA,QAEA,EAAA,EAAA,IAAA,GAAA,WADA,EAAA,GAAA,QAAA,OAAA,GACA,IAEA,GAEA,MACA,KAAA,UACA,EAAA,EAAA,IAAA,GAAA,YAAA,EACA,MACA,KAAA,SACA,EAAA,EAAA,IAAA,GAAA,YAAA,EACA,MACA,KAAA,WACA,EAAA,EAAA,IAAA,GAAA,YAAA,EACA,MACA,KAAA,QACA,EAAA,EAAA,IAAA,WACA,MAAA,GAAA,EAAA,IAAA,GAEA,MACA,KAAA,WACA,EAAA,EAAA,IAAA,WAKA,KAAA,GAAA,KAAA,GAEA,EAAA,GAAA,EAAA,EAEA,OAAA,IAEA,EAAA,SAAA,EAAA,GACA,IAAA,GAAA,KAAA,GACA,MAAA,EAAA,KACA,EAAA,GAAA,EAAA,IAIA,QACA,QAAA,EACA,WAAA,EACA,iBAAA,EACA,eAAA,EACA,WAAA,EACA,WAAA,EACA,MAAA,EACA,mBAAA,EACA,UAAA,EACA,aAAA,EACA,cAAA,KCjMA,OAAA,aAAA,UAAA,UAAA,SAAA,GACA,GAAA,GAAA,EAAA,UACA,EAAA,SAAA,EAAA,GACA,MAAA,EAAA,eACA,EAAA,EAAA,EAAA,gBAAA,KACA,EAAA,EACA,EAAA,EAAA,EAAA,iBAAA,MAEA,EAAA,EAAA,IAEA,IAAA,GAAA,EACA,IACA,GAAA,gBAAA,GAAA,QAAA,WACA,GAAA,GAAA,EAAA,MAAA,IACA,EAAA,EAAA,MAAA,KAAA,YACA,IAAA,MAAA,EAAA,IAAA,GAAA,GAAA,CACA,GAAA,QAAA,EAAA,MAAA,KAAA,eAAA,KAAA,EAAA,MAAA,KAAA,cAAA,CACA,GAAA,GAAA,GAWA,IAVA,MAAA,EAAA,GACA,EAAA,GAAA,QACA,EAAA,IACA,EAAA,GAAA,MAEA,EAAA,GAAA,QAGA,EAAA,IAEA,KAAA,EAAA,CACA,GAAA,GAAA,OAAA,KAAA,EAAA,MAAA,KAAA,cAAA,QAAA,GACA,GAAA,EAAA,MAAA,KAAA,cAAA,EAEA,OAEA,GAAA,SAAA,EAAA,MAAA,KAAA,eAAA,KAAA,EAAA,MAAA,KAAA,cAAA,CACA,GAAA,GAAA,GAWA,IAVA,MAAA,EAAA,GACA,EAAA,GAAA,QACA,EAAA,IACA,EAAA,GAAA,MAEA,EAAA,GAAA,QAGA,EAAA,IAEA,KAAA,EAAA,CACA,GAAA,GAAA,OAAA,KAAA,EAAA,MAAA,KAAA,cAAA,SAAA,GACA,GAAA,EAAA,MAAA,KAAA,cAAA,EAEA,OAGA,EAAA,iBACA,EAAA,MAAA,KAAA,aAAA,YAAA,EAAA,MAAA,KAAA,aAAA,gDACA,EAAA,MAAA,OAAA,aACA,SAAA,SAGA,EAAA,6BAAA,EAAA,MAAA,KAAA,aAAA,mBAEA,KAAA,EAAA,MAAA,KAAA,cAAA,EAAA,MAAA,KAAA,cAAA,2BAAA,2BAEA,SAAA,EAAA,QAAA,IAAA,sDAIA,SAAA,gBAGA,EAAA,gBAAA,IAAA,QAAA,GAAA,eAAA,SAAA,GACA,EAAA,EAAA,OACA,EAAA,EAAA,cACA,EAAA,EAAA,IAAA,EAAA,KAAA,QAAA,IAAA,KACA,MAAA,IACA,EAAA,EAAA,IAAA,EAAA,KAAA,QAAA,IAAA,QAIA,EAAA,EAAA,oBAKA,GAAA,IAAA,EAAA,MAAA,KAAA,cAAA,IAAA,OAGA,OAAA,EAAA,kBAAA,IACA,QAAA,EAAA,kBAAA,IAAA,YACA,EAAA,kBAAA,UAIA,EAAA,aAAA,GAAA,QAAA,WACA,IACA,EAAA,EAAA,KAAA,SAAA,SACA,EAAA,SACA,EAAA,gBAAA,IAAA,YAKA,EAAA,EACA,EAAA,SAAA,EAAA,EAAA,GACA,GAAA,GAAA,EAAA,eAAA,GAAA,EAAA,KAAA,EAAA,8BAAA,iBAAA,iBAAA,UACA,IACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,GAAA,GAAA,EAAA,GACA,EAAA,EAAA,YACA,GAAA,OACA,cACA,MAAA,EAAA,WAAA,aAAA,gBAAA,GAAA,GAAA,EAAA,EAAA,sBAAA,KAAA,GAAA,EAAA,iBAAA,IAAA,gBACA,EAAA,GAAA,0BAEA,EAAA,IAAA,iBACA,EAAA,OAAA,MACA,MAAA,EAAA,YAAA,MAAA,EAAA,GAAA,EAAA,GAAA,KAAA,EAAA,MACA,MAAA,EAAA,WAAA,kCAAA,KACA,EAAA,aACA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,GAGA,EAAA,OAAA,GAEA,EAAA,OAAA,GAEA,QACA,aAAA,KChIA,OAAA,qCAAA,UAAA,oCAAA,aAAA,SAAA,GACA,OACA,KAAA,SAAA,EAAA,GACA,EAAA,oCACA,IAAA,GAAA,EAAA,YACA,GAAA,aAAA,EAAA,oBAAA,EAAA,UAAA,WAEA,GAAA,+BAAA,cAEA,EAAA,yBAAA","sourcesContent":[";(function($, window, document, undefined) {\n  var pluginName = 'autoHidingNavbar',\n      $window = $(window),\n      $document = $(document),\n      _scrollThrottleTimer = null,\n      _resizeThrottleTimer = null,\n      _throttleDelay = 70,\n      _lastScrollHandlerRun = 0,\n      _previousScrollTop = null,\n      _windowHeight = $window.height(),\n      _visible = true,\n      _hideOffset,\n      defaults = {\n        disableAutohide: false,\n        showOnUpscroll: true,\n        showOnBottom: true,\n        hideOffset: 'auto', // \"auto\" means the navbar height\n        animationDuration: 200\n      };\n\n  function AutoHidingNavbar(element, options) {\n    this.element = $(element);\n    this.settings = $.extend({}, defaults, options);\n    this._defaults = defaults;\n    this._name = pluginName;\n    this.init();\n  }\n\n  function hide(autoHidingNavbar) {\n    if (!_visible) {\n      return;\n    }\n\n    autoHidingNavbar.element.addClass('navbar-hidden').animate({\n      top: -autoHidingNavbar.element.height()\n    }, {\n      queue: false,\n      duration: autoHidingNavbar.settings.animationDuration\n    });\n\n    $('.dropdown.open .dropdown-toggle', autoHidingNavbar.element).dropdown('toggle');\n\n    _visible = false;\n  }\n\n  function show(autoHidingNavbar) {\n    if (_visible) {\n      return;\n    }\n\n    autoHidingNavbar.element.removeClass('navbar-hidden').animate({\n      top: 0\n    }, {\n      queue: false,\n      duration: autoHidingNavbar.settings.animationDuration\n    });\n    _visible = true;\n  }\n\n  function detectState(autoHidingNavbar) {\n    var scrollTop = $window.scrollTop(),\n        scrollDelta = scrollTop - _previousScrollTop;\n\n    _previousScrollTop = scrollTop;\n\n    if (scrollDelta < 0) {\n      if (_visible) {\n        return;\n      }\n\n      if (autoHidingNavbar.settings.showOnUpscroll || scrollTop <= _hideOffset) {\n        show(autoHidingNavbar);\n      }\n    }\n    else if (scrollDelta > 0) {\n      if (!_visible) {\n        if (autoHidingNavbar.settings.showOnBottom && scrollTop + _windowHeight === $document.height()) {\n          show(autoHidingNavbar);\n        }\n        return;\n      }\n\n      if (scrollTop >= _hideOffset) {\n        hide(autoHidingNavbar);\n      }\n    }\n\n  }\n\n  function scrollHandler(autoHidingNavbar) {\n    if (autoHidingNavbar.settings.disableAutohide) {\n      return;\n    }\n\n    _lastScrollHandlerRun = new Date().getTime();\n\n    detectState(autoHidingNavbar);\n  }\n\n  function bindEvents(autoHidingNavbar) {\n    $document.on('scroll.' + pluginName, function() {\n      if (new Date().getTime() - _lastScrollHandlerRun > _throttleDelay) {\n        scrollHandler(autoHidingNavbar);\n      }\n      else {\n        clearTimeout(_scrollThrottleTimer);\n        _scrollThrottleTimer = setTimeout(function() {\n          scrollHandler(autoHidingNavbar);\n        }, _throttleDelay);\n      }\n    });\n\n    $window.on('resize.' + pluginName, function() {\n      clearTimeout(_resizeThrottleTimer);\n      _resizeThrottleTimer = setTimeout(function() {\n        _windowHeight = $window.height();\n      }, _throttleDelay);\n    });\n  }\n\n  function unbindEvents() {\n    $document.off('.' + pluginName);\n\n    $window.off('.' + pluginName);\n  }\n\n  AutoHidingNavbar.prototype = {\n    init: function() {\n      this.elements = {\n        navbar: this.element\n      };\n\n      this.setDisableAutohide(this.settings.disableAutohide);\n      this.setShowOnUpscroll(this.settings.showOnUpscroll);\n      this.setShowOnBottom(this.settings.showOnBottom);\n      this.setHideOffset(this.settings.hideOffset);\n      this.setAnimationDuration(this.settings.animationDuration);\n\n      _hideOffset = this.settings.hideOffset === 'auto' ? this.element.height() : this.settings.hideOffset;\n      bindEvents(this);\n\n      return this.element;\n    },\n    setDisableAutohide: function(value) {\n      this.settings.disableAutohide = value;\n      return this.element;\n    },\n    setShowOnUpscroll: function(value) {\n      this.settings.showOnUpscroll = value;\n      return this.element;\n    },\n    setShowOnBottom: function(value) {\n      this.settings.showOnBottom = value;\n      return this.element;\n    },\n    setHideOffset: function(value) {\n      this.settings.hideOffset = value;\n      return this.element;\n    },\n    setAnimationDuration: function(value) {\n      this.settings.animationDuration = value;\n      return this.element;\n    },\n    show: function() {\n      show(this);\n      return this.element;\n    },\n    hide: function() {\n      hide(this);\n      return this.element;\n    },\n    destroy: function() {\n      unbindEvents(this);\n      show(this);\n      $.data(this, 'plugin_' + pluginName, null);\n      return this.element;\n    }\n  };\n\n  $.fn[pluginName] = function(options) {\n    var args = arguments;\n\n    if (options === undefined || typeof options === 'object') {\n      return this.each(function() {\n        if (!$.data(this, 'plugin_' + pluginName)) {\n          $.data(this, 'plugin_' + pluginName, new AutoHidingNavbar(this, options));\n        }\n      });\n    } else if (typeof options === 'string' && options[0] !== '_' && options !== 'init') {\n      var returns;\n\n      this.each(function() {\n        var instance = $.data(this, 'plugin_' + pluginName);\n\n        if (instance instanceof AutoHidingNavbar && typeof instance[options] === 'function') {\n          returns = instance[options].apply(instance, Array.prototype.slice.call(args, 1));\n        }\n      });\n\n      return returns !== undefined ? returns : this;\n    }\n\n  };\n\n})(jQuery, window, document);\n\ndefine(\"jquery.bootstrap-autohidingnavbar\", function(){});\n\n","define('Common',[],function () {\n    var loadCss = function (url) {\n            $.map(url, function (item, index) {\n                var link = document.createElement(\"link\");\n                link.type = \"text/css\";\n                link.rel = \"stylesheet\";\n                link.href = item.uri;\n                link.id = item.id;\n                if (item.noscript) {\n                    var noscript = document.createElement(\"noscript\");\n                    noscript.appendChild(link);\n                    document.getElementsByTagName(\"head\")[0].appendChild(noscript);\n                } else {\n                    document.getElementsByTagName(\"head\")[0].appendChild(link);\n                }\n                //console.log(link);\n            });\n        },\n        loadScript = function (url) {\n            $.map(url, function (uri, index) {\n                var scriptblock = document.createElement(\"script\");\n                scriptblock.type = \"text/javascript\";\n                scriptblock.src = uri.uri;\n                scriptblock.id = uri.id;\n                document.getElementsByTagName(\"head\")[0].appendChild(scriptblock);\n            });\n        },\n        dateStringToDate = function (dateString) {\n            try {\n                var scheduledDateArray = dateString.split('T')[0].split('-');\n                var scheduledTimeArray = dateString.split('T')[1].split(':');\n                //console.log(scheduledDateArray);\n                //console.log(scheduledTimeArray);\n                var scheduledTime = new Date(\n                    parseInt(scheduledDateArray[0]),\n                    parseInt(scheduledDateArray[1]) - 1,\n                    parseInt(scheduledDateArray[2]),\n                    parseInt(scheduledTimeArray[0]),\n                    parseInt(scheduledTimeArray[1])\n                );\n                return scheduledTime;\n            } catch (e) {\n                return null;\n            }\n        },\n        getDateTimeSTR = function (now) {\n            if (now == null) {\n                return '';\n            } else {\n                year = \"\" + now.getFullYear();\n                month = \"\" + (now.getMonth() + 1);\n                if (month.length == 1) {\n                    month = \"0\" + month;\n                }\n                day = \"\" + now.getDate();\n                if (day.length == 1) {\n                    day = \"0\" + day;\n                }\n                hour = \"\" + now.getHours();\n                if (hour.length == 1) {\n                    hour = \"0\" + hour;\n                }\n                minute = \"\" + now.getMinutes();\n                if (minute.length == 1) {\n                    minute = \"0\" + minute;\n                }\n                second = \"\" + now.getSeconds();\n                if (second.length == 1) {\n                    second = \"0\" + second;\n                }\n                return year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute + \":\" + second;\n            }\n        },\n    //取得傳入日期物件的字串格式\n        getDateSTR = function (now, ReplaceStr) {\n            return getDateTimeSTR(now).substr(0, 10).replace('-', ReplaceStr).replace('-', ReplaceStr);\n        },\n        getRequest = function (name) {\n            try {\n                if (name = (new RegExp('[?&]' + encodeURIComponent(name) + '=([^&]*)')).exec(location.search))\n                    return decodeURIComponent(name[1]);\n            } catch (e) {\n                return null;\n            }\n        },\n        getWH = function (unit) {\n            var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\n            var height = (window.innerHeight > 0) ? window.innerHeight : screen.height;\n            if (window.parent) {\n                width = (document.body.offsetWidth > 0) ? document.body.offsetWidth : width;\n            }\n            return {\n                width: width + unit,\n                height: height + unit\n            };\n        },\n        getParameterByName = function (name) {\n            name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n            var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n                results = regex.exec(location.search);\n            return results == null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n        },\n        scrollTop = function (top) {\n            var $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\n            $body.animate({\n                scrollTop: top\n            }, 2000);\n        },\n        genViewModel = function (base) {\n            var strVM = '';\n            $('[data-bind]').each(function (index, object) {\n                //console.log('{'+$(object).attr('data-bind')+'}');\n                var attrAry = $(object).attr('data-bind')\n                    .replace(/ /ig, '')\n                    .replace('jqxInput:', '')\n                    .replace('jqxDateTimeInput:', '')\n                    .replace('jqxNumberInput:', '')\n                    .replace('jqxCheckBox:', '')\n                    .replace('jqxRadioButton:', '')\n                    .replace('{', '')\n                    .replace('}', '')\n                    .split(',');\n                $.map(attrAry, function (obj, index) {\n                    //console.log(obj);\n                    var attr = obj.split(':');\n                    if (attr[0] == 'value' || attr[0] == 'enable' || attr[0] == 'disabled' || attr[0] == 'click' || attr[0] == 'ddlPromt' || attr[0] == 'checked') {\n                        if (attr[0] == 'disabled') {\n                            if (strVM.indexOf('\"' + attr[1] + '\"') == -1) {\n                                strVM += ',' + attr[0] + ':\"' + attr[1].replace('!', '') + '\"';\n                            }\n                        } else {\n                            if (strVM.indexOf('\"' + attr[1] + '\"') == -1) {\n                                strVM += ',' + attr[0] + ':\"' + attr[1] + '\"';\n                            }\n                        }\n                    }\n                });\n            });\n            strVM = strVM.replace(/\"/ig, '');\n            //console.log(strVM.substr(1));\n            var $Q = {};\n            $.map(strVM.substr(1).split(','), function (obj, index) {\n                var targetVmObject = obj.split(':');\n                //console.log(targetVmObject[0]);\n                switch (targetVmObject[0]) {\n                    case 'value':\n                        if (targetVmObject[1].indexOf('num') > -1) {\n                            $Q[targetVmObject[1]] = ko.observable(\"0\");\n                        } else {\n                            $Q[targetVmObject[1]] = ko.observable(\"\");\n                        }\n                        break;\n                    case 'checked':\n                        $Q[targetVmObject[1]] = ko.observable(false);\n                        break;\n                    case 'enable':\n                        $Q[targetVmObject[1]] = ko.observable(true);\n                        break;\n                    case 'disabled':\n                        $Q[targetVmObject[1]] = ko.observable(false);\n                        break;\n                    case 'click':\n                        $Q[targetVmObject[1]] = function () {\n                            alert('' + targetVmObject[1]) + ''\n                        };\n                        break;\n                    case 'ddlPromt':\n                        $Q[targetVmObject[1]] = ddlPromt;\n                        break;\n                }\n                ;\n            });\n            for (var Q in $Q) {\n                //console.log(Q);\n                base[Q] = $Q[Q];\n            }\n            return $Q;\n        },\n        bindViewModel = function (viewModel, $vm) {\n            for (var vm in $vm) {\n                if (viewModel[vm] == null) {\n                    viewModel[vm] = $vm[vm];\n                }\n            }\n        };\n    return {\n        loadCss: loadCss,\n        loadScript: loadScript,\n        dateStringToDate: dateStringToDate,\n        getDateTimeSTR: getDateTimeSTR,\n        getDateSTR: getDateSTR,\n        getRequest: getRequest,\n        getWH: getWH,\n        getParameterByName: getParameterByName,\n        scrollTop: scrollTop,\n        genViewModel: genViewModel,\n        bindViewModel: bindViewModel\n    };\n\n    //SS.namespace(\"SS.CommonLib\");\n    //SS.CommonLib = CommonLib;\n    //return CommonLib;\n});\n","/**\n * Created by jerryhuang on 15/8/15.\n */\ndefine('SmartMenu',['require','Common'],function (require) {\n    var common = require('Common');\n    var generateMenu = function ($root, treeViewModel) {\n        if (treeViewModel.treeLevelLeft != null) {\n            generateFolder($root, treeViewModel.treeLevelLeft(), 'L');\n            menuCount = 0;\n            generateFolder($root, treeViewModel.treeLevelRight(), 'R');\n        } else {\n            generateFolder($root, treeViewModel());\n        }\n        var nowTab, prevTab,\n            openWin = {};\n        $('.programLink').on('click', function () {\n            var wh = common.getWH(''),\n                programId = $(this).attr('programId');\n            if ($('.' + programId)[0] == null) {\n                if ($(this).attr('openTarget') == 'self' && $(this).attr('targetHref') != '#') {\n                    var openFlg = 'N';\n                    if (openWin[programId] != null) {\n                        if (openWin[programId].closed) {\n                            openFlg = 'Y';\n                            openWin[programId] = null;\n                        } else {\n                            openWin[programId].focus();\n                        }\n                    } else {\n                        openFlg = 'Y';\n                    }\n                    if (openFlg == 'Y') {\n                        var openWindow = window.open($(this).attr('targetHref'), '_self', '');\n                        openWin[$(this).attr('programId')] = openWindow;\n                    }\n                    return;\n                } else {\n                    if ($(this).attr('openTarget') == 'blank' && $(this).attr('targetHref') != '#') {\n                        var openFlg = 'N';\n                        if (openWin[programId] != null) {\n                            if (openWin[programId].closed) {\n                                openFlg = 'Y';\n                                openWin[programId] = null;\n                            } else {\n                                openWin[programId].focus();\n                            }\n                        } else {\n                            openFlg = 'Y';\n                        }\n                        if (openFlg == 'Y') {\n                            var openWindow = window.open($(this).attr('targetHref'), '_blank', '');\n                            openWin[$(this).attr('programId')] = openWindow;\n                        }\n                        return;\n                    } else {\n                        // create the tab\n                        $('<li>' +\n                            '<a href=\"#' + $(this).attr('programId') + '\" class=\"' + $(this).attr('programId') + '\" data-toggle=\"tab\" style=\"padding:5px 8px;\">' +\n                            $(this).html() + '</a>' +\n                            '</li>').appendTo('#tabs');\n\n                        // create the tab content\n                        $('<div class=\"tab-pane\" id=\"' + $(this).attr('programId') + '\">' +\n                            '<iframe ' +\n                            'src=\"' + ($(this).attr('targetHref') != '#' ? $(this).attr('targetHref') : 'http://www.mobile01.com') + '\" ' +\n                            'width=\"100%\" ' +\n                            'height=\"' + (parseInt(wh.height) - 87) + '\" ' +\n                            'scrolling=\"yes\" ' +\n                            'frameborder=\"0\">' +\n                            '</iframe> ' +\n                            '</div>').appendTo('.tab-content');\n\n                        // make the new tab active\n                        $('#tabs a:last').tab('show').on('shown.bs.tab', function (e) {\n                            nowTab = e.target; // newly activated tab\n                            prevTab = e.relatedTarget; // previous active tab\n                            nowTab = $('.' + nowTab.hash.replace('#', ''));\n                            if (prevTab != null) {\n                                prevTab = $('.' + prevTab.hash.replace('#', ''));\n                            }\n                        });\n\n                        nowTab = $('#tabs a:last');\n                    }\n\n                }\n            } else {\n                $('.' + $(this).attr('programId')).tab('show');\n            }\n            //console.log(($('.navbar-toggle')[0] != null));\n            if ($('.navbar-toggle')[0] != null) {\n                if ($('.navbar-toggle').css('display') != 'none') {\n                    $('.navbar-toggle').click();\n                }\n            }\n        });\n        $('.closeTab').on('click', function () {\n            if (nowTab) {\n                $(nowTab.attr('href')).remove();\n                nowTab.remove();\n                $('#tabs a:last').tab('show');\n            }\n            //nowTab = $('#tabs a:last');\n        });\n    };\n    var menuCount = 0;\n    var generateFolder = function ($root, rootNode, pos) {\n        var ul = $('<ul class=\"' + (menuCount == 0 ? (pos == 'R' ? 'nav navbar-nav navbar-right' : 'nav navbar-nav') : 'dropdown-menu') + '\"></ul>');\n        menuCount++;\n        for (var i = 0; i < rootNode.length; i++) {\n            var node = rootNode[i];\n            var li = $('<li></li>');\n            li.append(\n                '<a ' +\n                'class=\"' + (node.childNodes != null ? 'folderLink' : 'programLink') + (menuCount == 1 && i > 0 ? ' repeaterMenuButton' : '') + (menuCount == 1 ? ' topMenuButton' : '') + '\" ' +\n                'programId=\"' + node.id + '\" ' +\n                'href=\"#\" ' +\n                'targetHref=\"' + node.url + '\" ' +\n                'openTarget=\"' + node.target + '\">' +\n                (node.childNodes != null || pos != null ? '' : node.id + ' ') + node.name +\n                (node.childNodes != null ? '<span class=\"caret\"></span></a>' : ''));\n            if (node.childNodes) {\n                generateFolder(li, node.childNodes, pos);\n                menuCount = 1;\n            }\n\n            ul.append(li);\n        }\n        $root.append(ul);\n    };\n    return {\n        generateMenu: generateMenu\n    };\n});\n","/**\n * Created by jerryhuang on 15/7/29.\n */\ndefine('base/components/viewmodels/UIMenu',['require','jquery.bootstrap-autohidingnavbar','SmartMenu'],function (require) {\n    return {\n        init: function (id, vm) {\n            require('jquery.bootstrap-autohidingnavbar');\n            var smartMenu = require('SmartMenu');\n            smartMenu.generateMenu($('.navbar-collapse'), vm.viewModel.treeLevel);\n            //用此種require的引入方式，可以延遲引入時間\n            require(['jquery.smartmenus.bootstrap'],function(){\n            });\n            $(\"div .navbar-fixed-top\").autoHidingNavbar();\n            //$('div .navbar-fixed-top').autoHidingNavbar('hide');\n        }\n    };\n});\n"]}