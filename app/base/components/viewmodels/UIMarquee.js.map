{"version":3,"file":"UIMarquee.js","sources":["../../utils/Common.js","UIMarquee.js"],"names":[],"mappings":"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","sourcesContent":["define('Common',[],function () {\n    var loadCss = function (url) {\n            $.map(url, function (item, index) {\n                var link = document.createElement(\"link\");\n                link.type = \"text/css\";\n                link.rel = \"stylesheet\";\n                link.href = item.uri;\n                link.id = item.id;\n                if (item.noscript) {\n                    var noscript = document.createElement(\"noscript\");\n                    noscript.appendChild(link);\n                    document.getElementsByTagName(\"head\")[0].appendChild(noscript);\n                } else {\n                    document.getElementsByTagName(\"head\")[0].appendChild(link);\n                }\n                //console.log(link);\n            });\n        },\n        loadScript = function (url) {\n            $.map(url, function (uri, index) {\n                var scriptblock = document.createElement(\"script\");\n                scriptblock.type = \"text/javascript\";\n                scriptblock.src = uri.uri;\n                scriptblock.id = uri.id;\n                document.getElementsByTagName(\"head\")[0].appendChild(scriptblock);\n            });\n        },\n        dateStringToDate = function (dateString) {\n            try {\n                var scheduledDateArray = dateString.split('T')[0].split('-');\n                var scheduledTimeArray = dateString.split('T')[1].split(':');\n                //console.log(scheduledDateArray);\n                //console.log(scheduledTimeArray);\n                var scheduledTime = new Date(\n                    parseInt(scheduledDateArray[0]),\n                    parseInt(scheduledDateArray[1]) - 1,\n                    parseInt(scheduledDateArray[2]),\n                    parseInt(scheduledTimeArray[0]),\n                    parseInt(scheduledTimeArray[1])\n                );\n                return scheduledTime;\n            } catch (e) {\n                return null;\n            }\n        },\n        getDateTimeSTR = function (now) {\n            if (now == null) {\n                return '';\n            } else {\n                year = \"\" + now.getFullYear();\n                month = \"\" + (now.getMonth() + 1);\n                if (month.length == 1) {\n                    month = \"0\" + month;\n                }\n                day = \"\" + now.getDate();\n                if (day.length == 1) {\n                    day = \"0\" + day;\n                }\n                hour = \"\" + now.getHours();\n                if (hour.length == 1) {\n                    hour = \"0\" + hour;\n                }\n                minute = \"\" + now.getMinutes();\n                if (minute.length == 1) {\n                    minute = \"0\" + minute;\n                }\n                second = \"\" + now.getSeconds();\n                if (second.length == 1) {\n                    second = \"0\" + second;\n                }\n                return year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute + \":\" + second;\n            }\n        },\n    //取得傳入日期物件的字串格式\n        getDateSTR = function (now, ReplaceStr) {\n            return getDateTimeSTR(now).substr(0, 10).replace('-', ReplaceStr).replace('-', ReplaceStr);\n        },\n        getRequest = function (name) {\n            try {\n                if (name = (new RegExp('[?&]' + encodeURIComponent(name) + '=([^&]*)')).exec(location.search))\n                    return decodeURIComponent(name[1]);\n            } catch (e) {\n                return null;\n            }\n        },\n        getWH = function (unit) {\n            var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\n            var height = (window.innerHeight > 0) ? window.innerHeight : screen.height;\n            if (window.parent) {\n                width = (document.body.offsetWidth > 0) ? document.body.offsetWidth : width;\n            }\n            return {\n                width: width + unit,\n                height: height + unit\n            };\n        },\n        getParameterByName = function (name) {\n            name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n            var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n                results = regex.exec(location.search);\n            return results == null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n        },\n        scrollTop = function (top) {\n            var $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\n            $body.animate({\n                scrollTop: top\n            }, 2000);\n        },\n        genViewModel = function (base) {\n            var strVM = '';\n            $('[data-bind]').each(function (index, object) {\n                //console.log('{'+$(object).attr('data-bind')+'}');\n                var attrAry = $(object).attr('data-bind')\n                    .replace(/ /ig, '')\n                    .replace('jqxInput:', '')\n                    .replace('jqxDateTimeInput:', '')\n                    .replace('jqxNumberInput:', '')\n                    .replace('jqxCheckBox:', '')\n                    .replace('jqxRadioButton:', '')\n                    .replace('{', '')\n                    .replace('}', '')\n                    .split(',');\n                $.map(attrAry, function (obj, index) {\n                    //console.log(obj);\n                    var attr = obj.split(':');\n                    if (attr[0] == 'value' || attr[0] == 'enable' || attr[0] == 'disabled' || attr[0] == 'click' || attr[0] == 'ddlPromt' || attr[0] == 'checked') {\n                        if (attr[0] == 'disabled') {\n                            if (strVM.indexOf('\"' + attr[1] + '\"') == -1) {\n                                strVM += ',' + attr[0] + ':\"' + attr[1].replace('!', '') + '\"';\n                            }\n                        } else {\n                            if (strVM.indexOf('\"' + attr[1] + '\"') == -1) {\n                                strVM += ',' + attr[0] + ':\"' + attr[1] + '\"';\n                            }\n                        }\n                    }\n                });\n            });\n            strVM = strVM.replace(/\"/ig, '');\n            //console.log(strVM.substr(1));\n            var $Q = {};\n            $.map(strVM.substr(1).split(','), function (obj, index) {\n                var targetVmObject = obj.split(':');\n                //console.log(targetVmObject[0]);\n                switch (targetVmObject[0]) {\n                    case 'value':\n                        if (targetVmObject[1].indexOf('num') > -1) {\n                            $Q[targetVmObject[1]] = ko.observable(\"0\");\n                        } else {\n                            $Q[targetVmObject[1]] = ko.observable(\"\");\n                        }\n                        break;\n                    case 'checked':\n                        $Q[targetVmObject[1]] = ko.observable(false);\n                        break;\n                    case 'enable':\n                        $Q[targetVmObject[1]] = ko.observable(true);\n                        break;\n                    case 'disabled':\n                        $Q[targetVmObject[1]] = ko.observable(false);\n                        break;\n                    case 'click':\n                        $Q[targetVmObject[1]] = function () {\n                            alert('' + targetVmObject[1]) + ''\n                        };\n                        break;\n                    case 'ddlPromt':\n                        $Q[targetVmObject[1]] = ddlPromt;\n                        break;\n                }\n                ;\n            });\n            for (var Q in $Q) {\n                //console.log(Q);\n                base[Q] = $Q[Q];\n            }\n            return $Q;\n        },\n        bindViewModel = function (viewModel, $vm) {\n            for (var vm in $vm) {\n                if (viewModel[vm] == null) {\n                    viewModel[vm] = $vm[vm];\n                }\n            }\n        };\n    return {\n        loadCss: loadCss,\n        loadScript: loadScript,\n        dateStringToDate: dateStringToDate,\n        getDateTimeSTR: getDateTimeSTR,\n        getDateSTR: getDateSTR,\n        getRequest: getRequest,\n        getWH: getWH,\n        getParameterByName: getParameterByName,\n        scrollTop: scrollTop,\n        genViewModel: genViewModel,\n        bindViewModel: bindViewModel\n    };\n\n    //SS.namespace(\"SS.CommonLib\");\n    //SS.CommonLib = CommonLib;\n    //return CommonLib;\n});\n","/**\n * Created by jerryhuang on 15/7/29.\n */\ndefine('base/components/viewmodels/UIMarquee',['require','Common'],function (require) {\n    var common = require('Common');\n    if (!$('#jqueryMarqueeCss')[0]) {\n        common.loadCss([\n            {\n                id: 'jqueryMarqueeCss',\n                uri: SS.app.baseUrl + 'app/base/components/resources/css/jquery.marquee.css'\n            }\n        ]);\n    }\n    return {\n        init: function (id, vm) {\n            //用此種require的引入方式，可以延遲引入時間\n            require(['jquery.marquee'],function(){\n                // console.log(vm.viewModel.id());\n                $('#' + vm.viewModel.id()).marquee();\n            });\n        }\n    };\n});\n"]}